<%
hash = {
  '<i class="icon icon-globe"></i> All' => 'all',
  '<i class="icon icon-user"></i> Only Mine' => 'mine',
  '<i class="icon icon-bookmark"></i> Only Phriends\'' => 'phriends'
}
%>
<h3>Display&nbsp;
  <div class="btn-group">
    <a class="btn dropdown-toggle" data-toggle="dropdown" href="null">
      <%
      hash.each do |key, val|
        if params[:filter] == val or !params[:filter]
          %><%= key.html_safe %><%
          break
        end
      end
      %>
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
      <% hash.each_with_index do |(key, val), i| %>
        <% link = (params[:filter] == val or (i == 1 and !params[:filter])) ? "<strong>#{key}</strong>".html_safe : key %>
        <% param_str = "/playlists?filter=#{CGI.escape(val)}" %>
        <% param_str += "&sort=#{params[:sort]}" if params[:sort] %>
        <%= content_tag :li, link_to(link.html_safe, param_str)%>
      <% end %>
    </ul>
  </div>
</h3>